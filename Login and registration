//default.blade.php
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@yield("title","Smart Course Registration System")</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
  @yield("content")
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>

//login.blade.php
@extends("layouts.default")
@section("title", "Login")
@section("content")
   <main class="mt-5">
      <div class="container">
          <div class="row justify-content-center">
              <div class="col-md-4">
                @if(session()->has("success"))
                <div class="alert alert-success">
                    {{session()->get("success")}}
                </div>
                @endif
                @if(session()->has("error"))
                <div class="alert alert-success">
                    {{session()->get("error")}}
                </div>
                @endif
                  <div class="card">
                      <h3 class="card-header text-center">Login</h3>
                     <div class="card-body">
                        <form method="POST" action="{{route("login.post")}}">
                            @csrf
                            <div class="form-group mb-3">
                                <input type="text" placeholder="Email" id="email" class="form-control" name="email" required autofocus>
                                @if ($errors->has('email'))
                                <span class="text-danger">{{$errors->first('email')}}</span>
                                @endif
                            </div>
                            <div class="form-group mb-3">
                                <input type="password" placeholder="Password" id="password" class="form-control" name="password" required>
                                @if($errors->has('password'))
                                <span class="text-danger">{{$errors->first('password')}}</span>
                                @endif
                            </div>
                            <div class="d-grid mx-auto">
                                <button type="submit" class="btn btn-dark btn-block">Sign In</button>
                            </div>
                        </form>
                    </div>
                
                </div>
            </div>
        </div>
    </main>
@endsection

//register.blade.php
@extends("layouts.default")
@section("title", "Register")
@section("content")
   <main class="mt-5">
      <div class="container">
          <div class="row justify-content-center">
              <div class="col-md-4">
                @if(session()->has("success"))
                <div class="alert alert-success">
                    {{session()->get("success")}}
                </div>
                @endif
                @if(session()->has("error"))
                <div class="alert alert-success">
                    {{session()->get("error")}}
                </div>
                @endif
                  <div class="card">
                      <h3 class="card-header text-center">Register</h3>
                     <div class="card-body">
                        <form method="POST" action="{{route("register.post")}}">
                            @csrf
                            <div class="form-group mb-3">
                                <input type="text" placeholder="Fullname" id="name" class="form-control" name="fullname" autofocus>
                                @if ($errors->has('fullname'))
                                <span class="text-danger">{{$errors->first('fullname')}}</span>
                                @endif
                            </div>
                            <div class="form-group mb-3">
                                <input type="text" placeholder="Email" id="email" class="form-control" name="email" required autofocus>
                                @if ($errors->has('email'))
                                <span class="text-danger">{{$errors->first('email')}}</span>
                                @endif
                            </div>
                            <div class="form-group mb-3">
                                <input type="password" placeholder="Password" id="password" class="form-control" name="password" required>
                                @if($errors->has('password'))
                                <span class="text-danger">{{$errors->first('password')}}</span>
                                @endif
                            </div>
                            <div class="d-grid mx-auto">
                                <button type="submit" class="btn btn-dark btn-block">Sign Up</button>
                            </div>
                        </form>
                    </div>
                
                </div>
            </div>
        </div>
    </main>
@endsection

//Auth.controller.php
<?php

namespace App\Http\Controllers;

use App\Models\User;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Illuminate\Support\Facades\Hash;

class AuthController extends Controller
{
    public function login(){
        return view("auth.login");
    }

    function loginPost(Request $request){
        
    }

    function register(){
        return view("auth.register");
    }

    function registerPost(Request $request){
        $request->validate(["fullname" => "required",
        "email" => "required",
        "password" => "required"]);


        $user = new User();
        $user->name = $request->fullname;
        $user->email = $request->email;
        $user->password = Hash::make($request->password);
        if($user->save()){
            return redirect(route("login"))->with("success", "User created successfully");
        }
    return redirect (route("register"))->with("error","Failed to create account");
    }

}

//web.php
<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\AuthController;

Route::view("/", "welcome");

Route::get("/login", [AuthController::class, "Login"])->name("login");

Route::post("/login", [AuthController::class, "loginPost"])->name("login.post");

Route::get("/register",[AuthController::class,"register"])->name("register");

Route::post("/register", [AuthController::class, "registerPost"])->name("register.post");
